NWNXDIR  = ../..
CPPFLAGS = $(PLUGIN_CPPFLAGS) -I$(NWNXDIR)
LFLAGS   = $(PLUGIN_LFLAGS)

OFILES  = \
    funcs/f_DumpHiddenHaks.o                      \
    funcs/f_SetHakHidden.o                         \
    hooks/h_PackModuleIntoMessage.o                  \
	../../include/NWNXLib.h							\
    NWNXHaks.o                                    \
    plugin-haks.o


all: nwnx_haks.so

nwnx_haks.so: $(OFILES)
	$(CXX) $(LFLAGS) -o $@ $^ $(LIBS)

clean:
	/bin/rm -f *.o *.so *~

distclean: clean
	/bin/rm -f Makefile

install: nwnx_haks.so
	mkdir -p @prefix@/ ; install nwnx_haks.so @prefix@/
